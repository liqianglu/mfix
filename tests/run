#***********************************************************************************
# First case
#***********************************************************************************
cd cond_conv
#
# 1 Processor
#
/bin/rm -r 1proc
mkdir 1proc
cd 1proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=1 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
/bin/cp ../../mfix.exe .
mpirun -np 1 mfix.exe > outrun
#
cd ../
#
# 2 processors
#
/bin/rm -r 2proc
mkdir 2proc
cd 2proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=2 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
ln -s mfix.dat mfix001.dat
/bin/cp ../../mfix.exe .
mpirun -np 2 mfix.exe > outrun
#
cd ../
#
# Diff the results
#
diff 1proc/*.OUT 2proc/*.OUT > outdiff
#
cd ../
#
#***********************************************************************************
# Another case
#***********************************************************************************
cd conduction
#
# 1 Processor
#
/bin/rm -r 1proc
mkdir 1proc
cd 1proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=1 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
/bin/cp ../../mfix.exe .
mpirun -np 1 mfix.exe > outrun
#
cd ../
#
# 2 processors
#
/bin/rm -r 2proc
mkdir 2proc
cd 2proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=2 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
ln -s mfix.dat mfix001.dat
/bin/cp ../../mfix.exe .
mpirun -np 2 mfix.exe > outrun
#
cd ../
#
# Diff the results
#
diff 1proc/*.OUT 2proc/*.OUT > outdiff
#
cd ../
#
#***********************************************************************************
# Another case
#***********************************************************************************
cd developed_pipe_flow
#
# 1 Processor
#
/bin/rm -r 1proc
mkdir 1proc
cd 1proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=1 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
/bin/cp ../../mfix.exe .
mpirun -np 1 mfix.exe > outrun
#
cd ../
#
# 2 processors
#
/bin/rm -r 2proc
mkdir 2proc
cd 2proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=2 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
ln -s mfix.dat mfix001.dat
/bin/cp ../../mfix.exe .
mpirun -np 2 mfix.exe > outrun
#
cd ../
#
# Diff the results
#
diff 1proc/*.OUT 2proc/*.OUT > outdiff
#
cd ../
#
#***********************************************************************************
# Another case
cd developed_slit_flow
#
# 1 Processor
#
/bin/rm -r 1proc
mkdir 1proc
cd 1proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=1 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
/bin/cp ../../mfix.exe .
mpirun -np 1 mfix.exe > outrun
#
cd ../
#
# 2 processors
#
/bin/rm -r 2proc
mkdir 2proc
cd 2proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=2 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
ln -s mfix.dat mfix001.dat
/bin/cp ../../mfix.exe .
mpirun -np 2 mfix.exe > outrun
#
cd ../
#
# Diff the results
#
diff 1proc/*.OUT 2proc/*.OUT > outdiff
#
cd ../
#
#***********************************************************************************
# Another case
#***********************************************************************************
cd dmp_test
#
# 1 Processor
#
/bin/rm -r 1proc
mkdir 1proc
cd 1proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=1 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
/bin/cp ../../mfix.exe .
mpirun -np 1 mfix.exe > outrun
#
cd ../
#
# 2 processors
#
/bin/rm -r 2proc
mkdir 2proc
cd 2proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=2 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
ln -s mfix.dat mfix001.dat
/bin/cp ../../mfix.exe .
mpirun -np 2 mfix.exe > outrun
#
cd ../
#
# Diff the results
#
diff 1proc/*.OUT 2proc/*.OUT > outdiff
#
cd ../
#
#***********************************************************************************
# Another case
#***********************************************************************************
#***********************************************************************************
cd dmp_test_cyclic
#
# 1 Processor
#
/bin/rm -r 1proc
mkdir 1proc
cd 1proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=1 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
/bin/cp ../../mfix.exe .
mpirun -np 1 mfix.exe > outrun
#
cd ../
#
# 2 processors
#
/bin/rm -r 2proc
mkdir 2proc
cd 2proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=2 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
ln -s mfix.dat mfix001.dat
/bin/cp ../../mfix.exe .
mpirun -np 2 mfix.exe > outrun
#
cd ../
#
# Diff the results
#
diff 1proc/*.OUT 2proc/*.OUT > outdiff
#
cd ../
#
#***********************************************************************************
# Another case
#***********************************************************************************
cd driven-cavity
#
# 1 Processor
#
/bin/rm -r 1proc
mkdir 1proc
cd 1proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=1 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
/bin/cp ../../mfix.exe .
mpirun -np 1 mfix.exe > outrun
#
cd ../
#
# 2 processors
#
/bin/rm -r 2proc
mkdir 2proc
cd 2proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=2 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
ln -s mfix.dat mfix001.dat
/bin/cp ../../mfix.exe .
mpirun -np 2 mfix.exe > outrun
#
cd ../
#
# Diff the results
#
diff 1proc/*.OUT 2proc/*.OUT > outdiff
#
cd ../
#
#***********************************************************************************
# Another case
#***********************************************************************************
cd granular_shear
#
# 1 Processor
#
/bin/rm -r 1proc
mkdir 1proc
cd 1proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=1 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
/bin/cp ../../mfix.exe .
mpirun -np 1 mfix.exe > outrun
#
cd ../
#
# 2 processors
#
/bin/rm -r 2proc
mkdir 2proc
cd 2proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=2 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
ln -s mfix.dat mfix001.dat
/bin/cp ../../mfix.exe .
mpirun -np 2 mfix.exe > outrun
#
cd ../
#
# Diff the results
#
diff 1proc/*.OUT 2proc/*.OUT > outdiff
#
cd ../
#
#***********************************************************************************
# Another case
#***********************************************************************************
#***********************************************************************************
cd rotary-drum
#
# 1 Processor
#
/bin/rm -r 1proc
mkdir 1proc
cd 1proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=1 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
/bin/cp ../../mfix.exe .
mpirun -np 1 mfix.exe > outrun
#
cd ../
#
# 2 processors
#
/bin/rm -r 2proc
mkdir 2proc
cd 2proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=2 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
ln -s mfix.dat mfix001.dat
/bin/cp ../../mfix.exe .
mpirun -np 2 mfix.exe > outrun
#
cd ../
#
# Diff the results
#
diff 1proc/*.OUT 2proc/*.OUT > outdiff
#
cd ../
#***********************************************************************************
# Another case
#***********************************************************************************
#***********************************************************************************
cd settling-tank
#
# 1 Processor
#
/bin/rm -r 1proc
mkdir 1proc
cd 1proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=1 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
/bin/cp ../../mfix.exe .
mpirun -np 1 mfix.exe > outrun
#
cd ../
#
# 2 processors
#
/bin/rm -r 2proc
mkdir 2proc
cd 2proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=2 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
ln -s mfix.dat mfix001.dat
/bin/cp ../../mfix.exe .
mpirun -np 2 mfix.exe > outrun
#
cd ../
#
# Diff the results
#
diff 1proc/*.OUT 2proc/*.OUT > outdiff
#
cd ../
#***********************************************************************************
# Another case
#***********************************************************************************
#***********************************************************************************
cd simple-2phase
#
# 1 Processor
#
/bin/rm -r 1proc
mkdir 1proc
cd 1proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=1 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
/bin/cp ../../mfix.exe .
mpirun -np 1 mfix.exe > outrun
#
cd ../
#
# 2 processors
#
/bin/rm -r 2proc
mkdir 2proc
cd 2proc
/bin/cp ../mfix.dat mfix.dat.bak
/bin/rm mfix00*.dat
awk -f ../../script.awk -v ni=1 -v nj=1 -v nk=2 < mfix.dat.bak > mfix.dat
ln -s mfix.dat mfix000.dat
ln -s mfix.dat mfix001.dat
/bin/cp ../../mfix.exe .
mpirun -np 2 mfix.exe > outrun
#
cd ../
#
# Diff the results
#
diff 1proc/*.OUT 2proc/*.OUT > outdiff
#
cd ../
#
#***********************************************************************************
# Testing Over
#***********************************************************************************
